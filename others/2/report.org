#+OPTIONS: ':nil *:t -:t ::t <:t H:3 \n:t arch:headline ^:nil
#+OPTIONS: author:t broken-links:nil c:nil creator:nil
#+OPTIONS: d:(not "LOGBOOK") date:nil e:nil email:nil f:t inline:t num:t
#+OPTIONS: p:nil pri:nil prop:nil stat:t tags:t tasks:t tex:t
#+OPTIONS: timestamp:nil title:t toc:nil todo:t |:t
#+TITLE: 論理回路実験レポート
#+SUBTITLE: 
#+DATE: 
#+AUTHOR: 筑波大学情報科学類2年 江畑 拓哉 (201611350)
#+LANGUAGE: ja
#+SELECT_TAGS: export
#+EXCLUDE_TAGS: noexport
#+CREATOR: Emacs 24.5.1 (Org mode 9.0.2)

#+LATEX_CLASS: koma-article
#+LATEX_CLASS_OPTIONS:
#+LATEX_HEADER:  \usepackage[top=25truemm,bottom=25truemm,left=25truemm,right=25truemm]{geometry}
#+LATEX_HEADER:\bibliography{books}
#+LATEX_HEADER_EXTRA: 
#+DESCRIPTION:
#+KEYWORDS:
#+SUBTITLE:
#+STARTUP: indent overview inlineimages


* 実験の目的
  　バイナリカウンタに、ある条件下である数を引くことのできる回路を作成する。今回での条件とは、4以上の場合を指し、引く数は4である。つまりは４以上の数を持っているカウンタから任意のタイミングで４を引くことのできる回路を作るのである。
  　たとえば、４から４を引いて０，９から４を引いて５、といった形にしたい。

* 器具及び装置
　器具及び装置の一覧を以下に示す。      
  #+ATTR_LATEX: :environment tabular :align |l|l|l|l|
|----------------------+------+------------------------------------+--------------------------|
| 名称                 | 個数 | 備考                               | 使用理由                 |
|----------------------+------+------------------------------------+--------------------------|
| ●ICトレーナー       |      |                                    |                          |
| ブレッドボード       |    1 |                                    | 配線のため               |
| Vcc(+5V)             |    1 | ICトレーナーのブレッドポートに配線 | 電源                     |
| GND                  |    1 | ICトレーナーのブレッドポートに配線 | GND                      |
| 7セグメントLED       |    1 | 左側を使用                         | LED表示のため            |
| -左桁用端子(CN4)     |    4 | DからAまで使用                     |                          |
| -電源入力端子(CN2)   |    1 | 左側のみを接続                     |                          |
| データ出力端子       |    2 | D1,D2を使用                        | リセット、演算処理のため |
| データスイッチ       |    2 | SW1,SW2を使用（上と対応）          |                          |
| パルス出力端子(DA)  |    1 |                                    | クロックを生むため       |
|----------------------+------+------------------------------------+--------------------------|
| ●標準ロジックIC     |      |                                    | 回路を作るため           |
| 74HC00               |    2 | NAND                               |                          |
| 74HC04               |    1  | NOT                                |                          |
| 74HC08               |    2 | AND                               |                          |
| 74HC74               |    2 | D-FF*2を２つ用いた                 |                          |
| 74HC86               |    1 | XOR                                |                          |
|----------------------+------+------------------------------------+--------------------------|
| ●その他             |      |                                    | 配線のため               |
| ジャンパ線(ワイヤ)   | 大量 | 他の実験者よりもかなり多い（※）   |                          |
| ジャンパ栓(単芯)     | 少量 | 他の実験者よりもかなり少ない（※） |                          |
|----------------------+------+------------------------------------+--------------------------|

  ※ 他の実験者よりも実装に手間取ったため長いジャンパ線を張り巡らせた。

* 実験経過
  
以下に配線図を示す。
#+CAPTION: 配線図 
#+NAME: map.png
[[./logicex-2.png]]
配線を行った後、ICの電源を入れ、クロックを発生させた。

* 実験結果
  以下に実行結果を示すためのタイミングチャートを示す。それに続けて説明を加える。

** 
#+CAPTION: タイミングチャートNo.1
#+NAME:timing_1.png
[[./logic-1.png]]


　CLR(Active-L)をHにすると、カウントが進み始める。逆にCLRが入っている（Hの）間は0になる。

** 
#+CAPTION: タイミングチャートNo.2
#+NAME:timing_2.png
[[./logic-2.png]]


　最終的に16番目の数（15）までカウントが進み、そこで止まる。 

** 
#+CAPTION: タイミングチャートNo.3
#+NAME:timing_3.png
[[./logic-3.png]]

　カウンタが４以上のときスイッチを入れることで４を引かれるが、そうでないとき（今回は２）のときは引き算が行われない。条件が揃っているとき（今回は５）のときは４を引かれる（今回は5 - 4 = 1になる）。尚、引かれるタイミングはクロックが立ち上がったときである。

** 
#+CAPTION: タイミングチャートNo.4
#+NAME:timing_4.png
[[./logic-4.png]]
　

また、４を引いた後にまだ条件を満たしている場合には、更に４を引くことができるので、連続でそれが行われる。更に念のため、４から４を引いて０になるかどうかを確認することができた。

* 考察
　　今回の課題では４を引く、という文言に踊らされたためにロジックを考える時間を多く取られた。これをもし４を引くのではなく、４( $=2^2$ )の桁や８ ( $=2^3$ ) の桁を示すビットを操作する、と読み替えれば問題は途端に容易に解決させることができる。問題の処理についてカルノー図で見てみることにする。(Xはdon't care)

#+CAPTION: 4 = $2^2$ の桁
#+ATTR_LATEX: :environment tabular :align |l|l|l|
|------+---+---|
| 4＼8 | 0 | 1 |
|------+---+---|
|    0 | X | 1 |
|    1 | 0 | 0 |
|------+---+---|

　以上から、４を引く際には、4の桁は元の4の桁の値の反転を取れば良いことがわかった。

#+CAPTION: 4 = $2^3$ の桁
#+ATTR_LATEX: :environment tabular :align |l|l|l|
|------+---+---|
| 4＼8 | 0 | 1 |
|------+---+---|
|    0 | X | 0 |
|    1 | 0 | 1 |
|------+---+---|

　以上から、４を引く際には、８の桁は元の４と８の桁のANDを取れば良いことがわかった。

　これによって回路図を作成すれば問題が解けることがわかる。
　またこれは次のカウンタの出力なので、これは”半加算器の出力”と選択できるようにすれ良いことがわかる。
　
　結論として、回路図制作の際には柔軟な試行を持って処理を様々な角度から見直すことが必要なのだということを身にしみて感じた。

* 批判
  　私は、実験内容に関しては十分に噛みごたえのある良い課題内容であって難易度も適切である、と感じているが、周囲の学生を見ると、かなり難航している方もいれば、早々と課題を解決できた方もおり、進捗のばらつきを感じた。
　  批判に値するかはわからないが、課題の最後になるにつれ難易度が高くなっているため、もう少しTA、教員や友人間で協力できる雰囲気があっても良かったのではないかと考えている。この授業は期末試験がないため、お互いに教え、教えられ合うことでより理解が深まるのではないかと思う。
　　また、レポートの作成に関して、前回のレポートの採点をもう少し早くするか、例年の、あるいはその年のよくある間違い、減点事項を具体例とともに出していただけると、円滑なレポート提出・採点ができるのではないかと感じている。
　　

* 参考文献
 　基本的には自分の頭を用いて作成したが、半加算器などは昨年度必修科目であった論理回路の指定教科書である、「だれにもわかるディジタル回路 \cite{book1}」を用いた。


\printbibliography[title=References]

* 発展課題
以下に発展課題の目的とそれぞれについての内容を記述する。

* 実験の目的
　この実験の目的は今までの授業で身につけた知識をより発展的なものにして知識を定着させるためのものだろう。
* 課題１：カウンタに任意のリセット回路をつける
10進バイナリカウンタを作成した。
** 器具及び装置
  器具及び装置の一覧を以下に示す。
  #+ATTR_LATEX: :environment tabular :align |l|l|l|l|
|----------------------+------+------------------------------------+--------------------------|
| 名称                 | 個数 | 備考                               | 使用理由                 |
|----------------------+------+------------------------------------+--------------------------|
| ●ICトレーナー       |      |                                    |                          |
| ブレッドボード       |    1 |                                    | 配線のため               |
| Vcc(+5V)             |    1 | ICトレーナーのブレッドポートに配線 | 電源                     |
| GND                  |    1 | ICトレーナーのブレッドポートに配線 | GND                      |
| 7セグメントLED       |    1 | 左側を使用                         | LED表示のため            |
| -左桁用端子(CN4)     |    4 | DからAまで使用                     |                          |
| -電源入力端子(CN2)   |    1 | 左側のみを接続                     |                          |
| データ出力端子       |    1 | D2を使用                           | リセットのため      |
| データスイッチ       |    2 | SW2を使用（上と対応）              |                          |
| パルス出力端子(DA)  |    1 |                                    | クロックを生むため       |
|----------------------+------+------------------------------------+--------------------------|
| ●標準ロジックIC     |      |                                    | 回路を作るため           |
| 74HC00               |    1 | NAND                               |                          |
| 74HC08               |    2 | AND                               |                          |
| 74HC74               |    2 | D-FF*2を２つ用いた                 |                          |
| 74HC86               |    1 | XOR                                |                          |
|----------------------+------+------------------------------------+--------------------------|
| ●その他             |      |                                    | 配線のため               |
| ジャンパ線(ワイヤ)   | 大量 | 他の実験者よりもかなり多い      |                          |
| ジャンパ栓(単芯)     | 少量 | 他の実験者よりもかなり少ない    |                          |
|----------------------+------+------------------------------------+--------------------------|

** 実験経過
以下に配線図を示す。
#+CAPTION: 配線図 
#+NAME: map.png
[[./logice-1.png]]
配線を行った後、ICの電源を入れ、クロックを発生させた。

** 実験結果
以下のように動作し、これが10進カウンタとしての役割を満たしていることを確認した。
#+CAPTION: タイミングチャートNo.1
#+NAME:timing_10_1.png
[[./logictime-1.png]]   

** 考察
　実験結果を見る限り問題なく動作していることは明らかである。
　考察として挙げるものは特にはないが、カウントアップを行っているうちに途中停止の機能を追加したいとも思った。実際1を足していた部分をVccからD9などに接続してカウントを停止できるような機能を実験外で追加した。

** 批判
この課題では批判は何もなかった。

* 課題２：特定の条件で 1 サイクルのみパルスを発生する
　特定の条件で一サイクルのみパルスを発生させた。今回その特定の条件とは、２つの入力がどちらもHになったときのことを指す。
** 器具及び装置
  器具及び装置の一覧を以下に示す。
  #+ATTR_LATEX: :environment tabular :align |l|l|l|l|
|----------------------+------+------------------------------------+--------------------|
| 名称                 | 個数 | 備考                               | 使用理由           |
|----------------------+------+------------------------------------+--------------------|
| ●ICトレーナー       |      |                                    |                    |
| ブレッドボード       |    1 |                                    | 配線のため         |
| Vcc(+5V)             |    1 | ICトレーナーのブレッドポートに配線 | 電源               |
| GND                  |    1 | ICトレーナーのブレッドポートに配線 | GND                |
| データ出力端子       |    1 | D0/D1を使用                        | 入力               |
| データスイッチ       |    2 | SW0/SW1を使用（上と対応）          |                    |
| パルス出力端子(DA)  |    1 |                                    | クロックを生むため |
| データ入力スイッチ   |    1 | I0を使用                           | 出力               |
|----------------------+------+------------------------------------+--------------------|
| ●標準ロジックIC     |      |                                    | 回路を作るため     |
| 74HC08               |    1 | ANDを2つ用いた                     |                    |
| 74HC74               |    1 | D-FFを2つ用いた                    |                    |
|----------------------+------+------------------------------------+--------------------|
| ●その他             |      |                                    | 配線のため         |
| ジャンパ線(ワイヤ)   | 少々 |                                    |                    |
|----------------------+------+------------------------------------+--------------------|
** 実験経過
　以下に配線図を示す。
#+CAPTION: 配線図 
#+NAME: map.png
[[./logice-2.png]]
配線を行った後、ICの電源を入れ、入力を変化させた行った。
** 実験結果
以下に動作のタイミングチャートを示す
#+CAPTION: タイミングチャートNo.2
#+NAME:timing_10_2.png
[[./logictime-2.png]]   

** 考察
　実験結果から正しい動作を行うことが明らかである。特に異常な動作を示さなかった。
** 批判
　１サイクルの意味を解釈することが難しかったため、１クロック分と書き換えた方が良いと考えている。
* 課題３：リセット後一回のみ動作する回路
　リセットを押された後に一回だけ動作する回路を作った。
** 器具及び装置
  器具及び装置の一覧を以下に示す。
  #+ATTR_LATEX: :environment tabular :align |l|l|l|l|
|----------------------+------+------------------------------------+--------------------|
| 名称                 | 個数 | 備考                               | 使用理由           |
|----------------------+------+------------------------------------+--------------------|
| ●ICトレーナー       |      |                                    |                    |
| ブレッドボード       |    1 |                                    | 配線のため         |
| Vcc(+5V)             |    1 | ICトレーナーのブレッドポートに配線 | 電源               |
| GND                  |    1 | ICトレーナーのブレッドポートに配線 | GND                |
| データ出力端子       |    1 | D0を使用                           | 入力               |
| データスイッチ       |    2 | SW0を使用（上と対応）              |                    |
| クロック出力端子(DA) |    1 |                                    | クロックを生むため |
| パルス入力スイッチ   |    1 | I0を使用                           | 出力               |
|----------------------+------+------------------------------------+--------------------|
| ●標準ロジックIC     |      |                                    | 回路を作るため     |
| 74HC00               |    1 | NANDを1つ用いた                    |                    |
| 74HC04               |    1 | NOTを1つ用いた                    |                    |
| 74HC74               |    1 | D-FFを1つ用いた                     |                    |
|----------------------+------+------------------------------------+--------------------|
| ●その他             |      |                                    | 配線のため         |
| ジャンパ線(ワイヤ)   | 少々 |                                    |                    |
|----------------------+------+------------------------------------+--------------------|
** 実験経過
　以下に配線図を示す。
#+CAPTION: 配線図 
#+NAME: map.png
[[./logice-3.png]]
配線を行った後、ICの電源を入れ、入力を変化させた行った。
** 実験結果
以下に動作のタイミングチャートを示す
#+CAPTION: タイミングチャートNo.3
#+NAME:timing_10_3.png
[[./logictime-3.png]]   
** 考察
　クリアをして、その入力を受けて次のクロックで出力がH担っているを事が確認できた。入力をクリアから別のものに分けたものが次の課題の重要な位置要素になっている。
** 批判
この課題では批判は何もなかった。
        
* 課題４：ボタンを押した時一回のみ作動する回路
ボタンが押されたら、そこからカウントアップする８進タイマーを作成した。
** 器具及び装置
  器具及び装置の一覧を以下に示す。
  #+ATTR_LATEX: :environment tabular :align |l|l|l|l|
|----------------------+------+------------------------------------+----------------------------|
| 名称                 | 個数 | 備考                               | 使用理由                   |
|----------------------+------+------------------------------------+----------------------------|
| ●ICトレーナー       |      |                                    |                            |
| ブレッドボード       |    1 |                                    | 配線のため                 |
| Vcc(+5V)             |    1 | ICトレーナーのブレッドポートに配線 | 電源                       |
| GND                  |    1 | ICトレーナーのブレッドポートに配線 | GND                        |
| 7セグメントLED       |    1 | 左側を使用                         | LED表示のため              |
| -左桁用端子(CN4)     |    4 | DからAまで使用                     |                            |
| -電源入力端子(CN2)   |    1 | 左側のみを接続                     |                            |
| データ出力端子       |    2 | D0を使用                           | リセットのため             |
| データスイッチ       |    2 | SW0を使用（上と対応）              |                            |
| データ入力スイッチ   |    1 | I0を使用                           | ボタンが押されたことを検出 |
| パルス出力端子(DA)   |    1 |                                    | カウントの開始のため       |
| クロック出力端子(CK) |      |                                    | クロックを生むため         |
|----------------------+------+------------------------------------+----------------------------|
| ●標準ロジックIC     |      |                                    | 回路を作るため             |
| 74HC00               |    1 | NANDを1つ用いた                    |                            |
| 74HC04               |    1 | NOTを1つ用いた                     |                            |
| 74HC08               |    1 | ANDを3つ用いた                     |                            |
| 74HC74               |    2 | D-FF*2を２つ用いた                 |                            |
| 74HC86               |    1 | XORを3つ用いた                    |                            |
|----------------------+------+------------------------------------+----------------------------|
| ●その他             |      |                                    | 配線のため                 |
| ジャンパ線(ワイヤ)   | 大量 |                                    |                            |
| ジャンパ栓(単芯)     | 少量 |                                    |                            |
|----------------------+------+------------------------------------+----------------------------|
** 実験経過
　以下に配線図を示す。
#+CAPTION: 配線図 
#+NAME: map.png
[[./logice-4.png]]
配線を行った後、ICの電源を入れ、入力を変化させた行った。
** 実験結果
以下に動作のタイミングチャートを示す
#+CAPTION: タイミングチャートNo.3
#+NAME:timing_10_4.png
[[./logictime-4.png]]   
** 考察
　期待通りの動作が行われたことがわかったが、はじめに動作を起こすか確認するための１クロックがどうしても気になってしまった。D-FFのクロックを複数持てないため仕方のないことだが、分集をするなどの対策を施したいと思った。
　また、ボタンを押したときその動作を記憶する、という動作を行うためにはボタンを押した動作が１クロック分は継続していることが望ましい、という問題も残った。今回はクロックを分集できるだけのICがなかったため、あるいは複数のクロックを発生することができなかったため、こちらも実装はできなかった。
** 批判
この課題では批判は何もなかった。
        

* 参考文献
　９章のものと同じものを用いた。
